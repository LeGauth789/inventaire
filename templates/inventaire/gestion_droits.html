{% extends 'inventaire/base.html' %}
{% block title %}Gestion des droits{% endblock %}

{% block content %}
<h1>Gestion des droits utilisateurs</h1>

<form method="post">
  {% csrf_token %}
  <div class="mb-3">
    <label for="userSelect" class="form-label">Choisir un utilisateur :</label>
    <select class="form-select" id="userSelect" name="user" required>
      <option value="" disabled selected>Sélectionnez un utilisateur</option>
      {% for user in users %}
        <option value="{{ user.id }}">{{ user.username }} ({{ user.get_full_name }})</option>
      {% endfor %}
    </select>
  </div>

  <div class="mb-3">
    <label class="form-label">Attribuer des groupes :</label>
    {% for groupe in groupes %}
      <div class="form-check">
        <input class="form-check-input" type="checkbox" name="groups" value="{{ groupe.id }}" id="group{{ groupe.id }}">
        <label class="form-check-label" for="group{{ groupe.id }}">{{ groupe.name }}</label>
      </div>
    {% endfor %}
  </div>

  <button type="submit" class="btn btn-primary">Mettre à jour</button>
</form>
{% endblock %}
